Quando deletado todos dados de Tabela Frete do banco
-> done: FretefyConfigTabelaDeFreteSteps.QuandoDeletadoTodosDadosDaTabelaFreteDoBanco() (0,1s)
Dado a rotina "Configurações|Tabela de frete"
-> done: NavigateSteps.DadoARotina("Configurações|Tab...") (4,3s)
Quando clicar no botão "Cadastrar"
-> done: ActionSteps.QuandoAcionadoOBotao("Cadastrar") (1,0s)
E selecionar o template de tabela frete "Matriz por Região e Volume"
-> done: FretefyConfigTabelaDeFreteSteps.QuandoSelecionarOTemplateDeTabelaFrete("Matriz por Região...") (1,0s)
Dado o valor "RegressionFy Transportadora Ltda" para o campo "[s] Transportadora"
-> done: ValueSteps.DadoOValorParaOCampo("RegressionFy Tran...", "[s] Transportadora") (2,5s)
Quando clicar no botão "Próximo"
-> done: ActionSteps.QuandoAcionadoOBotao("Próximo") (0,7s)
E selecionar o passo "Valores"
-> done: FretefyConfigTabelaDeFreteSteps.QuandoSelecionarOPasso("Valores") (0,8s)
E informar os valores do frete
  --- table step argument ---
  | [s] selectUfOrigem | [s] selectUfDestino | Peso | Cubagem | Valor da Nota |
  | PR                 | SP                  | 0,3  | 10,03   | R$ 10375,00   |
-> done: FretefyConfigTabelaDeFreteSteps.QuandoInformarOsValoresDoFrete(<table>) (7,1s)
Então os valores dos componentes de frete devem ser
  --- table step argument ---
  | Componente            | Valor       | Cálculo                                                                    |
  | Peso Considerado      | 0,3 kg      |                                                                            |
  | SLA                   | 36h         |                                                                            |
  | Taxa de Frete         | R$ 300,00   | 300,00                                                                     |
  | Adicional por Volume  | R$ 1.100,00 | 100,00 * ceiling(10,03 / 1,00)                                             |
  | Diária de permanência | R$ 90,00    | 90,00                                                                      |
  | GRIS                  | R$ 23,86    | 10.375,00 * (IF(SP = "RJ"; 0,26; IF(10.375,00 < 10000; 0,10; 0,23)) / 100) |
  | Taxa de Coleta        | R$ 16,50    | 16,50                                                                      |
  | Taxa de Entrega       | R$ 16,50    | 16,50                                                                      |
  | Frete valor           | R$ 51,88    | 10.375,00 * (0,50 / 100)                                                   |
-> done: FretefyConfigTabelaDeFreteSteps.EntaoOsValoresDosComponentesDeFreteDevemSer(<table>) (33,5s)
Então o total do frete deve ser "Total R$ 1.508,74"
-> done: FretefyConfigTabelaDeFreteSteps.EntaoOTotalDoFreteDeveSer("Total R$ 1.508,74") (0,7s)
Quando acionado o botão "Concluir"
-> done: ActionSteps.QuandoAcionadoOBotao("Concluir") (1,5s)
Então deve haver a notificação na tela "Tabela de frete cadastrada com sucesso"
-> done: DialogSteps.EntaoDeveHaverANotificacaoNaTela("Tabela de frete c...") (0,5s)
E devem haver os valores na tabela "TabelaFrete"
  --- table step argument ---
  | *Id                                                                                                                          | Nome                                               | OwnerTransportadoraId                                                 | DhValidade | TipoTransporte | TipoControle | Ativo | OferecimentoConfiguracaoId                                                                             | Componentes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | FatorPesoCubado | Formula                                                                                                          | MaiorMenorPeso | ReferenciaCubagem                                                                                           | ReferenciaDistancia | ReferenciaPeso | ReferenciaRegiao                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | ReferenciaVeiculo | TipoReferencia | TipoTabela | UtilizaPesoCubado | ValoresGerais                                                                                                                                                                                                                                                                                                                                                                                                                                             | ValoresMatriz                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
  | (SELECT Id FROM TabelaFrete where Nome = 'Template de Lotação controlado por Região e Volume' and ownerId = [obtem ownerid]) | Template de Lotação controlado por Região e Volume | SELECT Id FROM Owners where Name = 'RegressionFy Transportadora Ltda' |            | 2              | 1            | True  | (select Id from OferecimentoConfiguracao where Nome = 'Tabela de frete' and ownerId = [obtem ownerid]) | [{"TipoIncidencia":1,"CategoriaId":"6227ffcd-0918-4b41-a6f1-850a5f131b85","Descricao":"Taxa de frete","Variavel":"{{AdicionalDeFrete}}","TipoComponente":1,"ExpressaoValor":"{{AdicionalDeFrete_Valor}}","ExpressaoCondicao":"","Parametro":null,"Entradas":[{"Nome":"Valor","Variavel":"{{AdicionalDeFrete_Valor}}","Tipo":2}],"Condicoes":[],"ValorMinimo":null},{"TipoIncidencia":2,"CategoriaId":"6227ffcd-0918-4b41-a6f1-850a5f131b85","Descricao":"Adicional por Volume","Variavel":"{{AdicionalPorVolume}}","TipoComponente":3,"ExpressaoValor":"{{AdicionalPorVolume_ValorPorFracao}} * ceiling({{Cubagem}} / {{AdicionalPorVolume_Fracao}})","ExpressaoCondicao":"{{Cubagem}} >= 10","Parametro":"{{Cubagem}}","Entradas":[{"Nome":"Valor por fração","Variavel":"{{AdicionalPorVolume_ValorPorFracao}}","Tipo":2},{"Nome":"Fração","Variavel":"{{AdicionalPorVolume_Fracao}}","Tipo":2}],"Condicoes":[{"Variavel":"{{Cubagem}}","Operador":">=","Valor":"10"}],"ValorMinimo":null},{"TipoIncidencia":3,"CategoriaId":"bbcfd25f-3158-4a92-a9f4-4dfd37c4c35d","Descricao":"Diária de permanência","Variavel":"{{DiariaDePermanencia}}","TipoComponente":1,"ExpressaoValor":"{{DiariaDePermanencia_Valor}}","ExpressaoCondicao":"","Parametro":null,"Entradas":[{"Nome":"Valor","Variavel":"{{DiariaDePermanencia_Valor}}","Tipo":2}],"Condicoes":[],"ValorMinimo":null},{"TipoIncidencia":2,"CategoriaId":"7968c671-9293-4eb9-ac8e-e2c3c1314074","Descricao":"GRIS","Variavel":"{{Gris}}","TipoComponente":4,"ExpressaoValor":"{{ValorNota}} * (IF({{DestinoUF}} = \"RJ\"; {{Gris_PercentualRj}}; IF({{ValorNota}} < 10000; {{Gris_PercentualAteDez}}; {{Gris_PercentualAPartirDez}})) / 100)","ExpressaoCondicao":"","Parametro":null,"Entradas":[{"Nome":"Percentual RJ","Variavel":"{{Gris_PercentualRj}}","Tipo":2},{"Nome":"Percentual ate dez","Variavel":"{{Gris_PercentualAteDez}}","Tipo":2},{"Nome":"Percentual a partir dez","Variavel":"{{Gris_PercentualAPartirDez}}","Tipo":2}],"Condicoes":[],"ValorMinimo":null},{"TipoIncidencia":2,"CategoriaId":"71977907-12cf-45d8-ac3c-7078b6de7e85","Descricao":"Taxa de Coleta","Variavel":"{{TaxaDeColeta}}","TipoComponente":1,"ExpressaoValor":"{{TaxaDeColeta_Valor}}","ExpressaoCondicao":"","Parametro":null,"Entradas":[{"Nome":"Valor","Variavel":"{{TaxaDeColeta_Valor}}","Tipo":2}],"Condicoes":[],"ValorMinimo":null},{"TipoIncidencia":2,"CategoriaId":"71977907-12cf-45d8-ac3c-7078b6de7e85","Descricao":"Taxa de Entrega","Variavel":"{{TaxaDeEntrega}}","TipoComponente":1,"ExpressaoValor":"{{TaxaDeEntrega_Valor}}","ExpressaoCondicao":"","Parametro":null,"Entradas":[{"Nome":"Valor","Variavel":"{{TaxaDeEntrega_Valor}}","Tipo":2}],"Condicoes":[],"ValorMinimo":null},{"TipoIncidencia":2,"CategoriaId":"71977907-12cf-45d8-ac3c-7078b6de7e85","Descricao":"Frete valor","Variavel":"{{FreteValor}}","TipoComponente":2,"ExpressaoValor":"{{ValorNota}} * ({{FreteValor_Percentual}} / 100)","ExpressaoCondicao":"","Parametro":"{{ValorNota}}","Entradas":[{"Nome":"Percentual","Variavel":"{{FreteValor_Percentual}}","Tipo":1}],"Condicoes":[],"ValorMinimo":null}] |                 | {{AdicionalDeFrete}} + {{AdicionalPorVolume}} + {{Gris}} + {{TaxaDeColeta}} + {{TaxaDeEntrega}} + {{FreteValor}} |                | [{"Id":"_yna7iqp1x","ValorMin":0.0,"ValorMax":1.0},{"Id":"_gd804foiv","ValorMin":1.000001,"ValorMax":10.0}] | []                  | []             | [{"id":"_bq3qfbf9j","origem":{"id":"_w7g5qfs14","estadoid":"64a4902f-5cf4-4855-a601-fedb88164232","cidadeid":"58386b33-a57b-4f75-91d2-6e568bf5de93","regiaoid":null,"uf":"pr","cidade":"curitiba","regiao":null},"paradas":[{"id":"_48tvn904p","estadoid":"64a4902f-5cf4-4855-a601-fedb88164232","cidadeid":"37d752ee-4568-4d1c-8803-66865372f77f","regiaoid":null,"uf":"pr","cidade":"rolândia","regiao":null}],"destino":{"id":"_mfpihem2t","estadoid":"64a4902f-5cf4-4855-a601-fedb88164232","cidadeid":"83e4f55c-9a1c-4575-9575-785139616270","regiaoid":null,"uf":"pr","cidade":"londrina","regiao":null}},{"id":"_ciruuqilv","origem":{"id":"_jzuhaiq8g","estadoid":"64a4902f-5cf4-4855-a601-fedb88164232","cidadeid":null,"regiaoid":null,"uf":"pr","cidade":null,"regiao":null},"paradas":[],"destino":{"id":"_1z8mwibz9","estadoid":"64a4902f-5cf4-4855-a601-fedb88164232","cidadeid":null,"regiaoid":null,"uf":"pr","cidade":null,"regiao":null}},{"id":"_7vj7w3o0y","origem":{"id":"_qvjtu9xnw","estadoid":"64a4902f-5cf4-4855-a601-fedb88164232","cidadeid":null,"regiaoid":null,"uf":"pr","cidade":null,"regiao":null},"paradas":[],"destino":{"id":"_xnx6dquhj","estadoid":"86aac6f0-a699-4ccf-8c2d-1bdf6788e433","cidadeid":null,"regiaoid":null,"uf":"rj","cidade":null,"regiao":null}},{"id":"_6r6ljyfjt","origem":{"id":"_l8rwzr3x7","estadoid":"64a4902f-5cf4-4855-a601-fedb88164232","cidadeid":null,"regiaoid":null,"uf":"pr","cidade":null,"regiao":null},"paradas":[],"destino":{"id":"_oll5anp0c","estadoid":"64440e75-45ac-43b4-aa4e-68f06de4462f","cidadeid":null,"regiaoid":null,"uf":"sp","cidade":null,"regiao":null}}] | []                | 3              | 1          | false             | {"{{AdicionalPorVolume}}":{"{{AdicionalPorVolume_ValorPorFracao}}":100.0,"{{AdicionalPorVolume_Fracao}}":1.0},"{{DiariaDePermanencia}}":{"{{DiariaDePermanencia_Valor}}":90.0},"{{Gris}}":{"{{Gris_PercentualRj}}":0.26,"{{Gris_PercentualAteDez}}":0.1,"{{Gris_PercentualAPartirDez}}":0.23},"{{TaxaDeColeta}}":{"{{TaxaDeColeta_Valor}}":16.5},"{{TaxaDeEntrega}}":{"{{TaxaDeEntrega_Valor}}":16.5},"{{FreteValor}}":{"{{FreteValor_Percentual}}":0.5}} | [{"Id":"_bq3qfbf9j_yna7iqp1x","ReferenciaRegiao":{"Id":"_bq3qfbf9j","Origem":{"Id":"_w7g5qfs14","EstadoId":"64a4902f-5cf4-4855-a601-fedb88164232","CidadeId":"58386b33-a57b-4f75-91d2-6e568bf5de93","RegiaoId":null,"UF":"PR","Cidade":"Curitiba","Regiao":null},"Paradas":[{"Id":"_48tvn904p","EstadoId":"64a4902f-5cf4-4855-a601-fedb88164232","CidadeId":"37d752ee-4568-4d1c-8803-66865372f77f","RegiaoId":null,"UF":"PR","Cidade":"Rolândia","Regiao":null}],"Destino":{"Id":"_mfpihem2t","EstadoId":"64a4902f-5cf4-4855-a601-fedb88164232","CidadeId":"83e4f55c-9a1c-4575-9575-785139616270","RegiaoId":null,"UF":"PR","Cidade":"Londrina","Regiao":null}},"ReferenciaDistancia":null,"ReferenciaVeiculo":null,"ReferenciaPeso":null,"ReferenciaCubagem":{"Id":"_yna7iqp1x","ValorMin":0.0,"ValorMax":1.0},"Valores":{"{{AdicionalDeFrete}}":{"{{AdicionalDeFrete_Valor}}":125.0}},"SLA":24},{"Id":"_bq3qfbf9j_gd804foiv","ReferenciaRegiao":{"Id":"_bq3qfbf9j","Origem":{"Id":"_w7g5qfs14","EstadoId":"64a4902f-5cf4-4855-a601-fedb88164232","CidadeId":"58386b33-a57b-4f75-91d2-6e568bf5de93","RegiaoId":null,"UF":"PR","Cidade":"Curitiba","Regiao":null},"Paradas":[{"Id":"_48tvn904p","EstadoId":"64a4902f-5cf4-4855-a601-fedb88164232","CidadeId":"37d752ee-4568-4d1c-8803-66865372f77f","RegiaoId":null,"UF":"PR","Cidade":"Rolândia","Regiao":null}],"Destino":{"Id":"_mfpihem2t","EstadoId":"64a4902f-5cf4-4855-a601-fedb88164232","CidadeId":"83e4f55c-9a1c-4575-9575-785139616270","RegiaoId":null,"UF":"PR","Cidade":"Londrina","Regiao":null}},"ReferenciaDistancia":null,"ReferenciaVeiculo":null,"ReferenciaPeso":null,"ReferenciaCubagem":{"Id":"_gd804foiv","ValorMin":1.000001,"ValorMax":10.0},"Valores":{"{{AdicionalDeFrete}}":{"{{AdicionalDeFrete_Valor}}":130.0}},"SLA":24},{"Id":"_ciruuqilv_yna7iqp1x","ReferenciaRegiao":{"Id":"_ciruuqilv","Origem":{"Id":"_jzuhaiq8g","EstadoId":"64a4902f-5cf4-4855-a601-fedb88164232","CidadeId":null,"RegiaoId":null,"UF":"PR","Cidade":null,"Regiao":null},"Paradas":[],"Destino":{"Id":"_1z8mwibz9","EstadoId":"64a4902f-5cf4-4855-a601-fedb88164232","CidadeId":null,"RegiaoId":null,"UF":"PR","Cidade":null,"Regiao":null}},"ReferenciaDistancia":null,"ReferenciaVeiculo":null,"ReferenciaPeso":null,"ReferenciaCubagem":{"Id":"_yna7iqp1x","ValorMin":0.0,"ValorMax":1.0},"Valores":{"{{AdicionalDeFrete}}":{"{{AdicionalDeFrete_Valor}}":130.0}},"SLA":36},{"Id":"_ciruuqilv_gd804foiv","ReferenciaRegiao":{"Id":"_ciruuqilv","Origem":{"Id":"_jzuhaiq8g","EstadoId":"64a4902f-5cf4-4855-a601-fedb88164232","CidadeId":null,"RegiaoId":null,"UF":"PR","Cidade":null,"Regiao":null},"Paradas":[],"Destino":{"Id":"_1z8mwibz9","EstadoId":"64a4902f-5cf4-4855-a601-fedb88164232","CidadeId":null,"RegiaoId":null,"UF":"PR","Cidade":null,"Regiao":null}},"ReferenciaDistancia":null,"ReferenciaVeiculo":null,"ReferenciaPeso":null,"ReferenciaCubagem":{"Id":"_gd804foiv","ValorMin":1.000001,"ValorMax":10.0},"Valores":{"{{AdicionalDeFrete}}":{"{{AdicionalDeFrete_Valor}}":150.0}},"SLA":36},{"Id":"_7vj7w3o0y_yna7iqp1x","ReferenciaRegiao":{"Id":"_7vj7w3o0y","Origem":{"Id":"_qvjtu9xnw","EstadoId":"64a4902f-5cf4-4855-a601-fedb88164232","CidadeId":null,"RegiaoId":null,"UF":"PR","Cidade":null,"Regiao":null},"Paradas":[],"Destino":{"Id":"_xnx6dquhj","EstadoId":"86aac6f0-a699-4ccf-8c2d-1bdf6788e433","CidadeId":null,"RegiaoId":null,"UF":"RJ","Cidade":null,"Regiao":null}},"ReferenciaDistancia":null,"ReferenciaVeiculo":null,"ReferenciaPeso":null,"ReferenciaCubagem":{"Id":"_yna7iqp1x","ValorMin":0.0,"ValorMax":1.0},"Valores":{"{{AdicionalDeFrete}}":{"{{AdicionalDeFrete_Valor}}":140.0}},"SLA":36},{"Id":"_7vj7w3o0y_gd804foiv","ReferenciaRegiao":{"Id":"_7vj7w3o0y","Origem":{"Id":"_qvjtu9xnw","EstadoId":"64a4902f-5cf4-4855-a601-fedb88164232","CidadeId":null,"RegiaoId":null,"UF":"PR","Cidade":null,"Regiao":null},"Paradas":[],"Destino":{"Id":"_xnx6dquhj","EstadoId":"86aac6f0-a699-4ccf-8c2d-1bdf6788e433","CidadeId":null,"RegiaoId":null,"UF":"RJ","Cidade":null,"Regiao":null}},"ReferenciaDistancia":null,"ReferenciaVeiculo":null,"ReferenciaPeso":null,"ReferenciaCubagem":{"Id":"_gd804foiv","ValorMin":1.000001,"ValorMax":10.0},"Valores":{"{{AdicionalDeFrete}}":{"{{AdicionalDeFrete_Valor}}":150.0}},"SLA":36},{"Id":"_6r6ljyfjt_yna7iqp1x","ReferenciaRegiao":{"Id":"_6r6ljyfjt","Origem":{"Id":"_l8rwzr3x7","EstadoId":"64a4902f-5cf4-4855-a601-fedb88164232","CidadeId":null,"RegiaoId":null,"UF":"PR","Cidade":null,"Regiao":null},"Paradas":[],"Destino":{"Id":"_oll5anp0c","EstadoId":"64440e75-45ac-43b4-aa4e-68f06de4462f","CidadeId":null,"RegiaoId":null,"UF":"SP","Cidade":null,"Regiao":null}},"ReferenciaDistancia":null,"ReferenciaVeiculo":null,"ReferenciaPeso":null,"ReferenciaCubagem":{"Id":"_yna7iqp1x","ValorMin":0.0,"ValorMax":1.0},"Valores":{"{{AdicionalDeFrete}}":{"{{AdicionalDeFrete_Valor}}":250.0}},"SLA":36},{"Id":"_6r6ljyfjt_gd804foiv","ReferenciaRegiao":{"Id":"_6r6ljyfjt","Origem":{"Id":"_l8rwzr3x7","EstadoId":"64a4902f-5cf4-4855-a601-fedb88164232","CidadeId":null,"RegiaoId":null,"UF":"PR","Cidade":null,"Regiao":null},"Paradas":[],"Destino":{"Id":"_oll5anp0c","EstadoId":"64440e75-45ac-43b4-aa4e-68f06de4462f","CidadeId":null,"RegiaoId":null,"UF":"SP","Cidade":null,"Regiao":null}},"ReferenciaDistancia":null,"ReferenciaVeiculo":null,"ReferenciaPeso":null,"ReferenciaCubagem":{"Id":"_gd804foiv","ValorMin":1.000001,"ValorMax":10.0},"Valores":{"{{AdicionalDeFrete}}":{"{{AdicionalDeFrete_Valor}}":300.0}},"SLA":36}] |
-> done: DataSteps.EntaoDevemHaverOsValoresNaTabela("TabelaFrete", <table>) (0,9s)
